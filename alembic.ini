# =============================================================================
# Alembic Configuration
# =============================================================================
# This file configures Alembic, the database migration tool for SQLAlchemy.
#
# HOW ALEMBIC WORKS:
# 1. Reads your SQLAlchemy models
# 2. Compares them to the current database schema
# 3. Generates migration scripts for the differences
# 4. Applies migrations to update the database

[alembic]
# Path to migration scripts directory
script_location = alembic

# Template for migration file names
# Format: revision_slug (e.g., 001_create_books_table)
file_template = %%(rev)s_%%(slug)s

# Add project root to Python path
# This allows importing app.models in env.py
prepend_sys_path = .

# Version locations (where migration files are stored)
version_path_separator = os

# =============================================================================
# DATABASE URL
# =============================================================================
# This is a placeholder - the actual URL is loaded from environment
# variables in env.py using our app's settings.
#
# NEVER put real credentials here in version control!
sqlalchemy.url = placeholder://will_be_overridden

# =============================================================================
# LOGGING
# =============================================================================
# Logging helps debug migration issues

[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
# Set to INFO to see SQL statements
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S
