# =============================================================================
# Books API - Environment Configuration Template (Phase 1)
# =============================================================================
#
# This file is SAFE to commit to Git - it contains NO real secrets.
# It serves as documentation for required environment variables.
#
# =============================================================================
# SETUP INSTRUCTIONS (Step by Step)
# =============================================================================
#
# 1. Copy this file to create your local .env:
#    cp .env.example .env
#
# 2. Generate your SECRET_KEY:
#    openssl rand -hex 32
#    Copy the output and paste it as your SECRET_KEY value
#
# 3. Generate your POSTGRES_PASSWORD:
#    openssl rand -base64 24
#    Copy the output and paste it as your POSTGRES_PASSWORD value
#
# 4. Update DATABASE_URL with your generated password
#
# 5. Start the services:
#    docker-compose up -d
#
# 6. Run database migrations:
#    docker-compose exec api alembic upgrade head
#
# 7. Access the API:
#    http://localhost:8001/docs
#
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# APP_NAME: Displayed in OpenAPI documentation and logs
APP_NAME=Books API

# API_VERSION: Used for URL versioning (e.g., /api/v1/)
API_VERSION=v1

# ENVIRONMENT: development, staging, or production
ENVIRONMENT=development

# DEBUG: Enable debug mode
# - True: Detailed errors, auto-reload (DEVELOPMENT ONLY!)
# - False: Production mode, minimal error exposure
# WARNING: NEVER set to True in production!
DEBUG=True

# LOG_LEVEL: Minimum logging level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# SECURITY - SECRET KEY
# =============================================================================
# Used for cryptographic operations (JWT signing, etc.)
#
# REQUIRED: Generate a unique secret for your deployment!
#
# Generate with: openssl rand -hex 32
# Or Python:     python -c "import secrets; print(secrets.token_hex(32))"
#
SECRET_KEY=generate-with-openssl-rand-hex-32

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
# Security: We use custom credentials and ports, NOT defaults!
#
# Why?
# - Default 'postgres' user is a known attack target
# - Default port 5432 is scanned by automated security tools
# - Custom values add a layer of security

# Database username (don't use 'postgres'!)
POSTGRES_USER=books_admin

# Database password
# REQUIRED: Generate a strong password!
#
# Generate with: openssl rand -base64 24
#
POSTGRES_PASSWORD=generate-with-openssl-rand-base64-24

# Database name
POSTGRES_DB=books_production

# Custom port (not default 5432)
POSTGRES_PORT=5433

# Full connection URL (update password after generating)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://books_admin:YOUR_GENERATED_PASSWORD@localhost:5433/books_production

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Custom port (not default 8000)
API_PORT=8001

# Host binding
HOST=0.0.0.0

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================
# Comma-separated list of allowed origins
# Development: localhost ports for your frontend
# Production: your actual domain(s)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# API Key header name (for future authentication features)
API_KEY_HEADER=X-API-Key

# =============================================================================
# PHASE 2: REDIS CONFIGURATION (Not needed yet)
# =============================================================================
# These settings will be enabled when implementing:
# - Response caching
# - Rate limiting
# - Session storage
#
# Leave commented out for Phase 1.
#
# REDIS_URL=redis://localhost:6379/0
# REDIS_PORT=6379
# CACHE_TTL=300
# RATE_LIMIT_REQUESTS=100
# RATE_LIMIT_WINDOW=60

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
#
# [ ] SECRET_KEY is randomly generated and unique
# [ ] POSTGRES_PASSWORD is randomly generated and strong
# [ ] DEBUG is set to False
# [ ] ALLOWED_ORIGINS contains only your actual domains
# [ ] .env file is NOT committed to Git
# [ ] Ports are configured for your environment
# [ ] Database backups are configured
#
# See SECURITY.md for detailed security guidelines.
# =============================================================================
