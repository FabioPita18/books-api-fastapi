# =============================================================================
# Books API - Environment Configuration
# =============================================================================
# Copy this file to .env for local development:
#   cp .env.example .env
#
# NEVER commit .env to version control - it contains secrets!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# APP_NAME: Displayed in OpenAPI docs and logging
APP_NAME=Books API

# DEBUG: Enable debug mode (True/False)
# - True: Detailed error messages, auto-reload in development
# - False: Production mode, minimal error exposure
DEBUG=True

# API_VERSION: Used for API versioning in URLs (e.g., /api/v1/)
API_VERSION=v1

# HOST and PORT: Where the application listens
HOST=0.0.0.0
PORT=8000

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
# DATABASE_URL: PostgreSQL connection string
# Format: postgresql://username:password@host:port/database_name
#
# Components:
# - username: Database user (create with: CREATE USER user WITH PASSWORD 'pass';)
# - password: User's password (use strong passwords in production!)
# - host: Database server (localhost for local, container name in Docker)
# - port: PostgreSQL default is 5432
# - database_name: Your database (create with: CREATE DATABASE books_db;)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/books_db

# Database pool settings (for production tuning)
# DB_POOL_SIZE: Number of permanent connections to keep
DB_POOL_SIZE=5
# DB_MAX_OVERFLOW: Extra connections allowed during high load
DB_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Redis Configuration (Caching & Rate Limiting)
# -----------------------------------------------------------------------------
# REDIS_URL: Redis connection string
# Format: redis://[:password@]host:port/db_number
#
# - password: Optional, for secured Redis instances
# - host: Redis server address
# - port: Redis default is 6379
# - db_number: Redis database (0-15, use different numbers for different purposes)
REDIS_URL=redis://localhost:6379/0

# CACHE_TTL: Default cache time-to-live in seconds
# - 300 = 5 minutes (good for frequently changing data)
# - 3600 = 1 hour (good for stable data)
CACHE_TTL=300

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Rate limits are requests per minute
# Why different tiers?
# - Prevents abuse and ensures fair usage
# - Premium users get higher limits for better experience

# RATE_LIMIT_REQUESTS: Requests allowed per time window
RATE_LIMIT_REQUESTS=100

# RATE_LIMIT_WINDOW: Time window in seconds (60 = per minute)
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# SECRET_KEY: Used for signing tokens and other cryptographic operations
# CRITICAL: Generate a secure key for production!
#
# Generate with: openssl rand -hex 32
# Or in Python: python -c "import secrets; print(secrets.token_hex(32))"
#
# This key should be:
# - At least 32 characters long
# - Randomly generated
# - NEVER shared or committed to version control
SECRET_KEY=your-super-secret-key-change-in-production-use-openssl-rand-hex-32

# API_KEY_HEADER: Header name for API key authentication
# Standard practice is X-API-Key or Authorization
API_KEY_HEADER=X-API-Key

# CORS settings (comma-separated list of allowed origins)
# - Development: http://localhost:3000,http://localhost:8080
# - Production: https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# LOG_LEVEL: Minimum level to log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# - DEBUG: Everything, including detailed debug info
# - INFO: General operational messages
# - WARNING: Something unexpected but not an error
# - ERROR: Something failed
# - CRITICAL: Application might crash
LOG_LEVEL=INFO
